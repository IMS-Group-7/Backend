datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-arm64-openssl-1.1.x"]
}

model Mower {
  id            String          @id @default(cuid())
  serial        String          @unique
  status        String
  createdAt     DateTime
  updatedAt     DateTime
  mowingSession MowingSession[]
}

model MowingSession {
  id         String       @id @default(cuid())
  mower      Mower        @relation(fields: [mowerId], references: [id])
  mowerId    String
  startTime  DateTime
  endTime    DateTime
  coordinate Coordinate[]
}

model Coordinate {
  id              String        @id @default(cuid())
  mowerSession    MowingSession @relation(fields: [mowingSessionId], references: [id])
  mowingSessionId String
  x               Int
  y               Int
  isBoundary      Boolean       @default(false)
  timestamp       DateTime
  obstacle        Obstacle[]
}

model Obstacle {
  id           String     @id @default(cuid())
  coordinate   Coordinate @relation(fields: [coordinateId], references: [id])
  coordinateId String
  imagePath    String
  object       String
}
